<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tennis Match Logger - Live Recording</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            font-feature-settings: "cv11", "ss01";
            font-variant-numeric: oldstyle-nums;
        }
        
        .phone-mockup {
            width: 375px;
            height: 812px;
            background: linear-gradient(180deg, #000 0%, #1a1a1a 100%);
            border-radius: 40px;
            box-shadow: 
                0 0 0 8px #1f1f1f,
                0 0 0 12px #0a0a0a,
                0 25px 50px rgba(0,0,0,0.5);
            overflow: hidden;
            position: relative;
        }
        
        .dynamic-island {
            position: absolute;
            top: 12px;
            left: 50%;
            transform: translateX(-50%);
            width: 126px;
            height: 37px;
            background: #000;
            border-radius: 19px;
            z-index: 50;
        }
        
        .screen-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            padding-top: 50px;
            overflow-y: auto;
        }
        
        /* Modern Card System */
        .card {
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            margin-left: 0;
            margin-right: 0;
        }
        
        .card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .card-elevated {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        /* Recording Status Colors */
        .status-recording {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .status-paused {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: white;
        }
        
        /* Button System */
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        .btn-primary:active {
            transform: translateY(0);
        }
        
        .btn-secondary {
            background: #f8fafc;
            color: #475569;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        .btn-secondary:hover {
            background: #f1f5f9;
            border-color: #cbd5e1;
            transform: translateY(-1px);
        }
        
        .btn-pause {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
        }
        
        .btn-pause:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }
        
        /* Status Indicator */
        .pulse-dot {
            animation: pulseGlow 2s infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.1);
                box-shadow: 0 0 0 8px rgba(255, 255, 255, 0);
            }
        }
        
        .microphone-recording {
            animation: microphoneGlow 1.5s infinite;
        }
        
        @keyframes microphoneGlow {
            0%, 100% { 
                opacity: 1;
                filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.8));
            }
            50% { 
                opacity: 0.7;
                filter: drop-shadow(0 0 12px rgba(255, 255, 255, 1));
            }
        }
        
        /* Typography */
        .text-display {
            font-size: 1.875rem;
            font-weight: 700;
            line-height: 1.25;
        }
        
        .text-headline {
            font-size: 1.25rem;
            font-weight: 600;
            line-height: 1.3;
        }
        
        .text-body {
            font-size: 0.875rem;
            font-weight: 500;
            line-height: 1.4;
        }
        
        .text-caption {
            font-size: 0.75rem;
            font-weight: 500;
            line-height: 1.3;
        }
        
        /* Score Display */
        .score-badge {
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 6px 10px;
            font-weight: 600;
            font-size: 0.875rem;
        }
        
        .score-badge.current {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }
        
        /* Stats Cards */
        .stat-card {
            background: #fafbfc;
            border: 1px solid #f0f2f5;
            border-radius: 12px;
            padding: 16px;
            transition: all 0.2s ease;
        }
        
        .stat-card:hover {
            background: #f8fafc;
            border-color: #e2e8f0;
        }
        
        /* AI Insights */
        .insight-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #bae6fd;
            border-radius: 12px;
            padding: 16px;
        }
        
        .insight-primary {
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
            border-color: #93c5fd;
        }
        
        .insight-success {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border-color: #86efac;
        }
        
        .insight-warning {
            background: linear-gradient(135deg, #fefce8, #fef3c7);
            border-color: #fde047;
        }
        
        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .transcript-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .transcript-overlay.hidden {
            display: none;
        }
        
        .transcript-modal {
            background: white;
            border-radius: 16px;
            max-width: 350px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }
    </style>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen p-4">
    <div class="phone-mockup">
        <div class="dynamic-island"></div>
        
        <div class="screen-content">
            <!-- Status Bar -->
            <div class="flex justify-between items-center px-6 py-2 text-white">
                <span class="text-sm font-semibold">9:41</span>
                <div class="flex items-center space-x-1">
                    <div class="w-6 h-3 border border-white rounded-sm">
                        <div class="w-4 h-2 bg-green-500 rounded-sm m-0.5"></div>
                    </div>
                </div>
            </div>
            
            <!-- Recording Status Header -->
            <div class="card card-elevated mb-4 status-recording" id="recordingHeader">
                <div class="p-4">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-6 h-6 bg-white/20 rounded-full flex items-center justify-center microphone-recording" id="micIcon">
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path>
                                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                    <line x1="12" x2="12" y1="19" y2="22"></line>
                                    <line x1="8" x2="16" y1="22" y2="22"></line>
                                </svg>
                            </div>
                            <div>
                                <div class="text-white font-semibold text-lg" id="recordingText">REC</div>
                                <div class="text-white/80 text-xs font-mono" id="recordingTime">2:15:30</div>
                            </div>
                        </div>
                        <div class="text-white/80 text-xs font-medium">
                            Say it out loud to fix mistakes!
                        </div>
                    </div>
                    
                    <!-- Control Buttons -->
                    <div class="flex space-x-3">
                        <button onclick="toggleRecording()" class="btn-pause px-6 py-2 rounded-xl font-semibold flex-1 transition-all text-sm" id="recordBtn">
                            Pause
                        </button>
                        <button onclick="showTranscriptOverlay()" class="btn-secondary px-6 py-2 rounded-xl font-semibold flex-1 bg-white/20 border-white/30 text-white hover:bg-white/30 text-sm">
                            Transcript
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Live Score Card -->
            <div class="card mb-4">
                <div class="p-4">
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mr-3">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="6" x2="12" y2="12"></line>
                                <line x1="16.24" y1="16.24" x2="12" y2="12"></line>
                            </svg>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-slate-900">Live Score</h2>
                            <p class="text-xs text-slate-500">Set 2 • Game 5</p>
                        </div>
                    </div>
                    
                    <!-- Player Scores -->
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-2 bg-slate-50 rounded-lg">
                            <div class="flex items-center space-x-2">
                                <span class="text-sm font-semibold text-slate-900" id="player1Name">Player 1</span>
                                <div class="w-2 h-2 bg-blue-500 rounded-full pulse-dot" id="player1Serving"></div>
                                <span class="text-xs text-slate-500">Serving</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="flex space-x-1">
                                    <span class="score-badge text-xs">6</span>
                                    <span class="score-badge current text-xs">3</span>
                                </div>
                                <span class="text-xl font-bold text-slate-700">30</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between p-2 bg-slate-50 rounded-lg">
                            <div class="flex items-center space-x-2">
                                <span class="text-sm font-semibold text-slate-900" id="player2Name">Player 2</span>
                                <div class="w-2 h-2 bg-transparent rounded-full" id="player2Serving"></div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="flex space-x-1">
                                    <span class="score-badge text-xs">4</span>
                                    <span class="score-badge current text-xs">2</span>
                                </div>
                                <span class="text-xl font-bold text-slate-700">15</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Score Labels -->
                    <div class="flex justify-end space-x-3 pt-2 mt-3 border-t border-slate-100">
                        <span class="text-xs text-slate-400">S1 S2</span>
                        <span class="text-xs text-slate-400 ml-8">Points</span>
                    </div>
                </div>
            </div>
            
            <!-- Match Details Card -->
            <div class="card mb-4">
                <div class="p-4">
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full flex items-center justify-center mr-3">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <rect x="7" y="8" width="10" height="8" rx="1" ry="1"></rect>
                            </svg>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-slate-900">Match Info</h2>
                            <p class="text-xs text-slate-500">Format & Statistics</p>
                        </div>
                    </div>
                    
                    <!-- Match Format -->
                    <div class="p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg mb-3">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-slate-700 font-medium">Best of 3 • 6 Games • With Ads</span>
                            <span class="text-xs text-amber-600 font-semibold bg-amber-50 px-2 py-1 rounded-full">Tiebreak: Detecting...</span>
                        </div>
                    </div>
                    
                    <!-- Player Statistics -->
                    <div class="grid grid-cols-2 gap-3">
                        <div class="stat-card">
                            <h4 class="text-sm font-semibold text-slate-700 mb-2" id="statusPlayer1">Player 1</h4>
                            <div class="space-y-2">
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-slate-500">Winners</span>
                                    <span class="text-sm font-bold text-green-600">12</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-slate-500">Errors</span>
                                    <span class="text-sm font-bold text-red-500">6</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-slate-500">Aces</span>
                                    <span class="text-sm font-bold text-blue-600">3</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <h4 class="text-sm font-semibold text-slate-700 mb-2" id="statusPlayer2">Player 2</h4>
                            <div class="space-y-2">
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-slate-500">Winners</span>
                                    <span class="text-sm font-bold text-green-600">8</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-slate-500">Errors</span>
                                    <span class="text-sm font-bold text-red-500">9</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-slate-500">Aces</span>
                                    <span class="text-sm font-bold text-blue-600">2</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- AI Analysis Card -->
            <div class="card mb-4">
                <div class="p-4">
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center mr-3">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path>
                                <path d="M5 3v4"></path>
                                <path d="M19 17v4"></path>
                                <path d="M3 5h4"></path>
                                <path d="M17 19h4"></path>
                            </svg>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-slate-900">AI Analysis</h2>
                            <p class="text-xs text-slate-500">Real-time insights</p>
                        </div>
                    </div>
                    
                    <!-- Key Metrics -->
                    <div class="grid grid-cols-2 gap-3 mb-3">
                        <div class="insight-card insight-success">
                            <div class="text-caption text-emerald-700 mb-1">Match Momentum</div>
                            <div class="text-lg font-bold text-emerald-900">Player 1 +2</div>
                        </div>
                        <div class="insight-card insight-primary">
                            <div class="text-caption text-blue-700 mb-1">Service Hold %</div>
                            <div class="text-lg font-bold text-blue-900">85%</div>
                        </div>
                    </div>
                    
                    <!-- Live Commentary -->
                    <div class="p-3 bg-gradient-to-br from-slate-50 to-gray-50 rounded-lg mb-3">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center space-x-2">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-slate-600">
                                    <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path>
                                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                    <line x1="12" x2="12" y1="19" y2="22"></line>
                                    <line x1="8" x2="16" y1="22" y2="22"></line>
                                </svg>
                                <span class="text-sm font-semibold text-slate-700">Latest Comments</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                                <span class="text-xs text-green-600 font-semibold">Live</span>
                            </div>
                        </div>
                        
                        <div class="space-y-2" id="liveTranscriptPreview">
                            <div class="flex justify-between items-start p-1">
                                <span class="text-xs text-slate-700 flex-1 leading-relaxed">"Ace down the T"</span>
                                <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full ml-2 font-semibold">94%</span>
                            </div>
                            <div class="flex justify-between items-start p-1">
                                <span class="text-xs text-slate-700 flex-1 leading-relaxed">"Great backhand return"</span>
                                <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full ml-2 font-semibold">89%</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Key Insight -->
                    <div class="insight-card insight-warning border-l-4 border-l-amber-400">
                        <div class="flex items-start space-x-3">
                            <div class="w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-600">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <path d="m9 12 2 2 4-4"></path>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="text-body font-semibold text-amber-900">Key Observation</span>
                                    <span class="text-caption bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-semibold">92%</span>
                                </div>
                                <p class="text-caption text-amber-800 leading-relaxed">
                                    Player 1 is serving particularly well this set with 3 aces in the last 4 service games. Player 2 should consider standing closer on second serves.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Match Summary Section (Hidden by default, shown when match completes) -->
            <div class="card mb-4 hidden" id="matchSummary">
                <div class="p-4">
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center mr-3">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 12l2 2 4-4"></path>
                                <circle cx="12" cy="12" r="10"></circle>
                            </svg>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-slate-900">Match Summary</h2>
                            <p class="text-xs text-slate-500">AI Analysis Complete</p>
                        </div>
                    </div>
                    
                    <!-- Match Result -->
                    <div class="p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg mb-3">
                        <div class="flex items-center justify-between">
                            <div class="text-sm font-semibold text-green-900" id="matchWinner">John wins 6-4, 6-2</div>
                            <div class="text-xs text-green-700 bg-green-100 px-2 py-1 rounded-full font-semibold" id="matchDuration">1:45:30</div>
                        </div>
                    </div>
                    
                    <!-- Performance Summary -->
                    <div class="mb-3">
                        <h3 class="text-sm font-semibold text-slate-700 mb-2">📊 Match Overview</h3>
                        <div class="p-3 bg-slate-50 rounded-lg">
                            <p class="text-xs text-slate-700 leading-relaxed" id="matchOverview">
                                John dominated with strong serve performance, hitting 8 aces and maintaining 73% first serve percentage. The match was decided by John's superior return game, breaking serve 4 times compared to Mike's 1.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Key Stats Comparison -->
                    <div class="mb-3">
                        <h3 class="text-sm font-semibold text-slate-700 mb-2">🎾 Key Statistics</h3>
                        <div class="grid grid-cols-2 gap-3">
                            <div class="bg-slate-50 rounded-lg p-3">
                                <div class="text-xs text-slate-500 mb-1">Total Winners</div>
                                <div class="text-sm font-bold text-slate-900">John: 24 | Mike: 16</div>
                            </div>
                            <div class="bg-slate-50 rounded-lg p-3">
                                <div class="text-xs text-slate-500 mb-1">Unforced Errors</div>
                                <div class="text-sm font-bold text-slate-900">John: 12 | Mike: 18</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Improvement Suggestions -->
                    <div class="mb-3">
                        <h3 class="text-sm font-semibold text-slate-700 mb-2">💡 Areas for Improvement</h3>
                        
                        <!-- Player 1 Suggestions -->
                        <div class="mb-2">
                            <div class="text-xs font-semibold text-blue-700 mb-1" id="player1ImprovementName">John</div>
                            <div class="p-2 bg-blue-50 border border-blue-200 rounded-lg">
                                <p class="text-xs text-blue-800 leading-relaxed" id="player1Improvement">
                                    Consider more aggressive net play - you won 85% of points when approaching the net. Work on slice backhand for more variety in approach shots.
                                </p>
                            </div>
                        </div>
                        
                        <!-- Player 2 Suggestions -->
                        <div>
                            <div class="text-xs font-semibold text-orange-700 mb-1" id="player2ImprovementName">Mike</div>
                            <div class="p-2 bg-orange-50 border border-orange-200 rounded-lg">
                                <p class="text-xs text-orange-800 leading-relaxed" id="player2Improvement">
                                    Focus on return positioning - standing further back on second serves would help. Practice crosscourt consistency to reduce unforced errors.
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex space-x-3">
                        <button onclick="exportMatch()" class="btn-primary px-4 py-2 rounded-lg font-semibold flex-1 text-sm">
                            Export Match
                        </button>
                        <button onclick="newMatch()" class="btn-secondary px-4 py-2 rounded-lg font-semibold flex-1 text-sm">
                            New Match
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Transcript Overlay Modal -->
    <div class="transcript-overlay hidden" id="transcriptOverlay">
        <div class="card max-w-sm w-full mx-4 max-h-96 flex flex-col">
            <div class="p-6 border-b border-slate-100 flex-shrink-0">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-br from-slate-600 to-slate-700 rounded-full flex items-center justify-center">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path>
                                <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                <line x1="12" x2="12" y1="19" y2="22"></line>
                                <line x1="8" x2="16" y1="22" y2="22"></line>
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-headline text-slate-900">Full Transcript</h3>
                            <p class="text-caption text-slate-500">Complete audio history</p>
                        </div>
                    </div>
                    <button onclick="hideTranscriptOverlay()" class="w-8 h-8 bg-slate-100 hover:bg-slate-200 rounded-full flex items-center justify-center transition-colors">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-slate-600">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="p-6 overflow-y-auto flex-1 space-y-3" id="fullTranscriptItems">
                <div class="p-4 bg-slate-50 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-body text-slate-800 flex-1 leading-relaxed">"John serves ace down the T"</span>
                        <span class="text-caption bg-green-100 text-green-700 px-3 py-1 rounded-full font-semibold ml-3">95%</span>
                    </div>
                    <div class="text-caption text-slate-500">2:15:30</div>
                </div>
                <div class="p-4 bg-slate-50 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-body text-slate-800 flex-1 leading-relaxed">"Great backhand return by Mike"</span>
                        <span class="text-caption bg-blue-100 text-blue-700 px-3 py-1 rounded-full font-semibold ml-3">92%</span>
                    </div>
                    <div class="text-caption text-slate-500">2:15:32</div>
                </div>
                <div class="p-4 bg-slate-50 rounded-xl">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-body text-slate-800 flex-1 leading-relaxed">"Double fault, second serve"</span>
                        <span class="text-caption bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full font-semibold ml-3">78%</span>
                    </div>
                    <div class="text-caption text-slate-500">2:15:45</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let matchTimer = 8130; // 2:15:30 in seconds
        let isRecording = true;
        let playerNames = ['Player 1', 'Player 2']; // Default player names
        let fullTranscriptData = [
            { text: "John serves ace down the T", confidence: 95, timestamp: "2:15:30" },
            { text: "Great backhand return by Mike", confidence: 92, timestamp: "2:15:32" },
            { text: "Double fault, second serve", confidence: 78, timestamp: "2:15:45" },
            { text: "Long rally, forehand winner", confidence: 89, timestamp: "2:15:52" },
            { text: "Nice volley at the net", confidence: 94, timestamp: "2:16:05" }
        ];
        
        // Update timer display
        function updateTimer() {
            if (isRecording) {
                matchTimer++;
            }
            const hours = Math.floor(matchTimer / 3600);
            const minutes = Math.floor((matchTimer % 3600) / 60);
            const seconds = matchTimer % 60;
            
            const timeString = `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('recordingTime').textContent = timeString;
        }
        
        setInterval(updateTimer, 1000);
        
        // Toggle recording
        function toggleRecording() {
            const recordBtn = document.getElementById('recordBtn');
            const recordingText = document.getElementById('recordingText');
            const recordingHeader = document.getElementById('recordingHeader');
            const micIcon = document.getElementById('micIcon');
            
            if (isRecording) {
                // Switch to paused state
                isRecording = false;
                recordBtn.innerHTML = 'Resume';
                recordBtn.className = 'btn-primary px-6 py-2 rounded-xl font-semibold flex-1 transition-all text-sm';
                recordingText.textContent = 'PAUSED';
                recordingHeader.className = 'card card-elevated mb-4 status-paused';
                micIcon.className = 'w-6 h-6 bg-white/20 rounded-full flex items-center justify-center';
                micIcon.style.animation = 'none';
            } else {
                // Switch to recording state
                isRecording = true;
                recordBtn.innerHTML = 'Pause';
                recordBtn.className = 'btn-pause px-6 py-2 rounded-xl font-semibold flex-1 transition-all text-sm';
                recordingText.textContent = 'REC';
                recordingHeader.className = 'card card-elevated mb-4 status-recording';
                micIcon.className = 'w-6 h-6 bg-white/20 rounded-full flex items-center justify-center microphone-recording';
                micIcon.style.animation = 'microphoneGlow 1.5s infinite';
            }
        }
        
        function stopRecording() {
            if (confirm('Stop recording and view match summary?')) {
                // In real app, would navigate to summary page
                completeMatch();
            }
        }
        
        // Complete match and show summary
        function completeMatch() {
            const matchSummary = document.getElementById('matchSummary');
            const recordingHeader = document.getElementById('recordingHeader');
            
            // Stop recording
            isRecording = false;
            recordingHeader.style.display = 'none';
            
            // Generate AI summary based on current match data
            generateMatchSummary();
            
            // Show summary with animation
            matchSummary.classList.remove('hidden');
            matchSummary.style.animation = 'fadeInUp 0.8s ease-out forwards';
            
            // Scroll to summary
            setTimeout(() => {
                matchSummary.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 400);
        }
        
        // Generate AI match summary based on current data
        function generateMatchSummary() {
            const player1Name = document.getElementById('player1Name').textContent;
            const player2Name = document.getElementById('player2Name').textContent;
            
            // Update summary content with actual player names
            document.getElementById('matchWinner').textContent = `${player1Name} wins 6-4, 6-2`;
            document.getElementById('matchDuration').textContent = document.getElementById('recordingTime').textContent;
            
            // Dynamic match overview
            document.getElementById('matchOverview').textContent = 
                `${player1Name} dominated with strong serve performance, hitting 8 aces and maintaining 73% first serve percentage. The match was decided by ${player1Name}'s superior return game, breaking serve 4 times compared to ${player2Name}'s 1.`;
            
            // Update key statistics with dynamic names
            document.querySelector('.grid .bg-slate-50:first-child .text-sm').textContent = `${player1Name}: 24 | ${player2Name}: 16`;
            document.querySelector('.grid .bg-slate-50:last-child .text-sm').textContent = `${player1Name}: 12 | ${player2Name}: 18`;
            
            // Update improvement suggestions
            document.getElementById('player1ImprovementName').textContent = player1Name;
            document.getElementById('player2ImprovementName').textContent = player2Name;
            
            document.getElementById('player1Improvement').textContent = 
                `Consider more aggressive net play - you won 85% of points when approaching the net. Work on slice backhand for more variety in approach shots.`;
            
            document.getElementById('player2Improvement').textContent = 
                `Focus on return positioning - standing further back on second serves would help. Practice crosscourt consistency to reduce unforced errors.`;
        }
        
        // Simulate user saying "match completed"
        function simulateMatchCompletion() {
            setTimeout(() => {
                if (Math.random() < 0.3) { // 30% chance to trigger after some time
                    updateLiveTranscript();
                    setTimeout(() => {
                        // Add transcript item indicating match completion
                        const preview = document.getElementById('liveTranscriptPreview');
                        const completionHTML = `
                            <div class="flex justify-between items-start p-1">
                                <span class="text-xs text-slate-700 flex-1 leading-relaxed">"Match completed, great game!"</span>
                                <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full ml-2 font-semibold">96%</span>
                            </div>
                        `;
                        preview.insertAdjacentHTML('beforeend', completionHTML);
                        
                        // Trigger match completion
                        setTimeout(() => {
                            completeMatch();
                        }, 2000);
                    }, 1000);
                }
            }, 30000); // After 30 seconds, might trigger completion
        }
        
        function exportMatch() {
            alert('Match data exported! In real app, would generate PDF/CSV with full match statistics and transcript.');
        }
        
        function newMatch() {
            if (confirm('Start a new match? This will clear current data.')) {
                // In real app, would navigate to new match setup
                location.reload();
            }
        }
        
        // Show/hide transcript overlay
        function showTranscriptOverlay() {
            document.getElementById('transcriptOverlay').classList.remove('hidden');
            updateFullTranscript();
        }
        
        function hideTranscriptOverlay() {
            document.getElementById('transcriptOverlay').classList.add('hidden');
        }
        
        function updateFullTranscript() {
            const container = document.getElementById('fullTranscriptItems');
            container.innerHTML = '';
            
            fullTranscriptData.forEach(item => {
                let confidenceColor = 'yellow';
                if (item.confidence >= 90) confidenceColor = 'green';
                else if (item.confidence >= 75) confidenceColor = 'blue';
                
                const itemHTML = `
                    <div class="flex justify-between items-start p-3 bg-gray-50 rounded-lg">
                        <div>
                            <span class="text-sm text-gray-900">"${item.text}"</span>
                            <div class="text-xs text-gray-500 mt-1">${item.timestamp}</div>
                        </div>
                        <span class="text-xs bg-${confidenceColor}-100 text-${confidenceColor}-800 px-2 py-1 rounded-full ml-2">${item.confidence}%</span>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', itemHTML);
            });
        }
        
        // Simulate player name detection
        function simulatePlayerNameDetection() {
            setTimeout(() => {
                // Simulate detecting "John" from transcript
                playerNames[0] = 'John';
                document.getElementById('player1Name').textContent = 'John';
                document.getElementById('statusPlayer1').textContent = 'John';
                
                // Update AI insights text
                const aiText = document.querySelector('.bg-white.bg-opacity-10.rounded-lg.p-4.border-l-4.border-green-400 p');
                if (aiText) {
                    aiText.textContent = 'John is serving particularly well this set with 3 aces in the last 4 service games. Mike should consider standing closer on second serves.';
                }
            }, 5000);
            
            setTimeout(() => {
                // Simulate detecting "Mike" from transcript
                playerNames[1] = 'Mike';
                document.getElementById('player2Name').textContent = 'Mike';
                document.getElementById('statusPlayer2').textContent = 'Mike';
            }, 8000);
        }
        
        // Simulate live transcript updates
        const sampleTranscripts = [
            { text: "Nice volley at the net", confidence: 94 },
            { text: "That's long, unforced error", confidence: 91 },
            { text: "Serve and volley approach", confidence: 87 },
            { text: "Beautiful passing shot winner", confidence: 96 },
            { text: "Double fault on the second serve", confidence: 83 },
            { text: "Great return, rally continues", confidence: 89 }
        ];
        
        let transcriptIndex = 0;
        
        function updateLiveTranscript() {
            const preview = document.getElementById('liveTranscriptPreview');
            const newItem = sampleTranscripts[transcriptIndex];
            
            // Add to full transcript data
            const currentTime = new Date();
            const timeString = currentTime.toLocaleTimeString();
            fullTranscriptData.push({
                text: newItem.text,
                confidence: newItem.confidence,
                timestamp: timeString
            });
            
            // Update preview (show last 2 items)
            const recentItems = fullTranscriptData.slice(-2);
            preview.innerHTML = '';
            
            recentItems.forEach(item => {
                let confidenceColor = 'yellow-500';
                if (item.confidence >= 90) confidenceColor = 'green-500';
                else if (item.confidence >= 75) confidenceColor = 'blue-500';
                
                const itemHTML = `
                    <div class="flex justify-between items-start">
                        <span class="text-sm text-white opacity-90">"${item.text}"</span>
                        <span class="text-xs bg-${confidenceColor} text-white px-2 py-1 rounded-full">${item.confidence}%</span>
                    </div>
                `;
                preview.insertAdjacentHTML('beforeend', itemHTML);
            });
            
            transcriptIndex = (transcriptIndex + 1) % sampleTranscripts.length;
        }
        
        // Add new transcript item every 8-15 seconds when recording
        setInterval(() => {
            if (isRecording && Math.random() < 0.6) {
                updateLiveTranscript();
            }
        }, Math.random() * 7000 + 8000);
        
        // Start player name detection simulation
        simulatePlayerNameDetection();
        
        // Start match completion simulation
        simulateMatchCompletion();
        
        // Close overlay when clicking outside
        document.getElementById('transcriptOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                hideTranscriptOverlay();
            }
        });
        
        // Initial transcript update
        setTimeout(updateLiveTranscript, 2000);
        
        // Add test button to manually trigger completion (for demo purposes)
        setTimeout(() => {
            const testButton = document.createElement('button');
            testButton.textContent = 'Complete Match (Demo)';
            testButton.className = 'btn-secondary px-3 py-1 rounded-lg font-medium text-xs fixed bottom-4 left-4 z-50 bg-gray-600 text-white';
            testButton.onclick = completeMatch;
            document.body.appendChild(testButton);
        }, 5000);
    </script>
</body>
</html>